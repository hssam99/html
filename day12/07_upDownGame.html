<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 1. ì›¹í°íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° -->
    <link rel="stylesheet" crossorigin
            href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap">

    <!-- 2. í°íŠ¸ ì„¸íŒ…ìš© CSS (01_fonts.css) -->
    <link rel="stylesheet" href="font.css">
    <style>

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }


        body{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh; /* ğŸ”¹ ë·°í¬íŠ¸ ì „ì²´ ë†’ì´ ê¸°ì¤€ìœ¼ë¡œ ì¤‘ì•™ ì •ë ¬ */
        }

        .container{
            display: flex;
            align-items: center;
            justify-content: center;
            /* margin: 10px; */
            /* background-color: aqua; */
        }

        .main{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        button, input{
            background: none;
            height: 33px;
            padding: 0 10px;
            border: 2px solid black;
            border-radius: 30px;
            text-align: center;
        }
        
        button{
            cursor: pointer;
            font-weight: 700;
        }

        button:hover{
            background-color: black;
            color: white;
            transition: ease-in-out 0.1s;
        }




        #reloadBtn{
            border: none;
            padding: 0;
            width: 30px; height: 30px;
            background-color: transparent;
            transition: transform 0.2s ease;
        }
        
        #reloadBtn img{
            width: 100%;
            height: 100%;
            object-fit: contain;
            pointer-events: none; /* ì´ë¯¸ì§€ í´ë¦­í•´ë„ ë²„íŠ¼ì´ ëˆŒë¦¬ë„ë¡ */
        }
        
        #reloadBtn:hover {
            transform: scale(1.1);
            background-color: transparent;
            color: inherit;
            border: none;
            cursor: pointer;
        }

        #reloadBtn img:hover {
            background-color: transparent;
        }
        




        h1{
            text-align: center;
            font-size: clamp(32px, 6vw, 60px);
            margin-bottom: 10px;
        }

        .player-box{
            margin-top: 30px;
            margin-bottom: 10px;

        }

        .option{
            gap: 10px;
        }

        @keyframes pop {
            0%   { transform: scale(1); }
            50%  { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* ğŸ”¹ íš¨ê³¼ê°€ ì ìš©ë  ë•Œë§Œ ì‹¤í–‰ */
        .pop-effect {
            animation: pop 0.4s ease;
        }

        .correct {
            color: #14b866; /* ì˜ˆ: ì´ˆë¡ìƒ‰ */
            transition: color 0.3s ease;
        }

        .lifeBox{
            /* background-color: aqua; */
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            margin-bottom: 10px;
            gap: 5px;
        }

        .lifeBox img{
            width: 20px;
            height: 20px;
        }
        

        
    </style>
</head>
<body>
    
    <div class="container main">
        <h1 id="resultText">What Number am I?</h1>
        <div class="player-box">
            <div>
                <input type="text" id = "userInput" placeholder="1~99">
                <button type="button" id="submitBtn">SUBMIT</button>
            </div>
            <div class="lifeBox" id="lifeBox"></div>
        </div>
    </div>

    <div class="container option">
        <button type="button" id="makeRdNumBtn">START</button>
        <button type="button" id="reloadBtn"><img src="https://www.freeiconspng.com/thumbs/reload-icon/arrow-refresh-reload-icon-30.png" alt=""></button>
    </div>
    
    <script>
        let rdNum = 0;
        const maxLives = 5;
        let livesLeft = maxLives;

        function renderHearts() {
            const lifeBox = document.getElementById('lifeBox');
            lifeBox.innerHTML = ''; // ì¼ë‹¨ ë¹„ìš°ê³ 

            for (let i = 0; i < livesLeft; i++) {
                const heart = document.createElement('img');
                heart.src = "https://cdn.pixabay.com/photo/2017/09/23/16/33/pixel-heart-2779422_1280.png";
                heart.alt = "life";
                lifeBox.appendChild(heart);
            }
        }

        
        document.getElementById('makeRdNumBtn').addEventListener('click', ()=>{
            rdNum = Math.floor(Math.random()*99+1); // 1~99 ëœë¤ìˆ˜
            console.log('rdNum:' + rdNum);

             document.getElementById('resultText').innerText='Guess Me?';
             document.getElementById('resultText').classList.remove('correct', 'pop-effect');

            // ê²Œì„ ì‹œì‘ ì‹œ ëª©ìˆ¨ ì´ˆê¸°í™”
            livesLeft = maxLives;
            renderHearts();

        })
        
        document.getElementById('submitBtn').addEventListener('click', ()=>{
            const resultText = document.getElementById('resultText');
            const userInput = Number(document.getElementById('userInput').value);
            
            // ì•„ì§ ì‹œì‘ ì•ˆ í–ˆì„ ë•Œ
            if(rdNum === 0){
                alert('ë¨¼ì € STARTë¥¼ ëˆ„ë¥´ì„¸ìš”!');
                return;
            }
            
            // ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬
            if(isNaN(userInput) || userInput < 1 || userInput > 99){
                alert('1~99 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”!');
                return;
            }
            
            console.log('userInput:'+userInput);
            livesLeft--;
            console.log('ì‹œë„ íšŸìˆ˜:', livesLeft);
            renderHearts();
            if(livesLeft<=0){
                resultText.classList.remove('correct', 'pop-effect');
                resultText.innerText = 'â˜ ï¸ GAME OVER â˜ ï¸';
                resultText.classList.remove('pop-effect');
                void resultText.offsetWidth; // ê°•ì œë¡œ ë¦¬í”Œë¡œìš°(ì• ë‹ˆë©”ì´ì…˜ ì¬ì‹œì‘ìš©)
                resultText.classList.add('pop-effect');
                return;
            }
            
            let result = '';
            if(rdNum === userInput){
                result = 'Correct!ğŸ¤©';
                resultText.classList.add('correct');   // ì •ë‹µì¼ ë•Œ ìƒ‰ìƒ(ì´ˆë¡ìƒ‰) ì¶”ê°€
            } else {
                result = (rdNum < userInput) ? 'Down â¬‡ï¸' : 'Up â¬†ï¸';
                resultText.classList.remove('correct'); // ì˜¤ë‹µì´ë©´ ìƒ‰ìƒ ì œê±°
            }


            resultText.innerText=result;

            // ğŸ”¹ ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”ìš©ìœ¼ë¡œ í•œ ë²ˆ ì œê±° í›„ ë‹¤ì‹œ ì¶”ê°€
            resultText.classList.remove('pop-effect');
            void resultText.offsetWidth; // ê°•ì œë¡œ ë¦¬í”Œë¡œìš°(ì• ë‹ˆë©”ì´ì…˜ ì¬ì‹œì‘ìš©)
            resultText.classList.add('pop-effect');

            document.getElementById('userInput').value='';  // ì…ë ¥ì°½ ì´ˆê¸°í™”
        })

        document.getElementById('reloadBtn').addEventListener('click', ()=>{
            location.reload();
        })

    </script>
</body>
</html>