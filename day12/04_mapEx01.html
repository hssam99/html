<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
            <!-- 1. ì›¹í°íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° -->
    <link rel="stylesheet" crossorigin
            href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap">

    <!-- 2. í°íŠ¸ ì„¸íŒ…ìš© CSS (01_fonts.css) -->
    <link rel="stylesheet" href="font.css">

    <style>
        .subjectBtn{
            border: 1px solid black;
            background-color: white;
            padding: 5px 10px;

        }

        .subjectBtn:hover{
            background-color: black;
            color:white;
            transition: ease-in-out 0.2s;
        }

                /* ğŸ”¹ í´ë¦­í•´ì„œ ì„ íƒëœ ìƒíƒœ ìœ ì§€ */
        .subjectBtn.active {
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
    <!-- 
        ê³¼ëª©, ì ìˆ˜ input 2ê°œ ìƒì„±
        ì¶”ê°€ ë²„íŠ¼ ìƒì„± => mapì— ê³¼ëª©(key), ì ìˆ˜(value) ì €ì¥
        ì¶œë ¥ ë²„íŠ¼ ìƒì„± => ul => li í˜•íƒœë¡œ ì¶œë ¥ html : 89
        ê²°ê³¼ ë²„íŠ¼ ìƒì„± => í•©ê³„, í‰ê· , í•©ê²©ì—¬ë¶€ (60ì  ì´ìƒì´ë©´ pass)
    -->

    <fieldset>
        <legend>ê³¼ëª©ì¶”ê°€</legend>
        ê³¼ëª©:
        <!-- <input type="text" id = "subject"> -->
        <button type="button" class="subjectBtn" id="subjectBtn_korean">êµ­ì–´</button>
        <button type="button" class="subjectBtn" id="subjectBtn_english">ì˜ì–´</button>
        <button type="button" class="subjectBtn" id="subjectBtn_math">ìˆ˜í•™</button>
        ì ìˆ˜: <input type="text" id="score">

        <button type="button" id="addBtn">ì¶”ê°€</button>
        <button type="button" id="printBtn">ì¶œë ¥</button>
        <button type="button" id="resultBtn">ê²°ê³¼</button>
    </fieldset>
    <ul id="ul"></ul>
    <h3 id="h3"></h3>

    <script>
        const myMap = new Map();
        let currSubject = '';

        const buttons = document.querySelectorAll('.subjectBtn');

        console.log(buttons);

        buttons.forEach(btn=>{
            btn.addEventListener('click', function(){
                // ğŸ”¹ ë‹¤ë¥¸ ë²„íŠ¼ì˜ active ì œê±°
                buttons.forEach(b => b.classList.remove('active'));

                // ğŸ”¹ í´ë¦­í•œ ë²„íŠ¼ë§Œ active ì¶”ê°€
                this.classList.add('active');

                if (this.id === 'subjectBtn_korean') currSubject = 'Korean';
                if (this.id === 'subjectBtn_english') currSubject = 'English';
                if (this.id === 'subjectBtn_math') currSubject = 'Math';
                
                console.log('í˜„ì¬ ì„ íƒëœ ê³¼ëª©:', currSubject);

            })
        });


        
        document.getElementById('addBtn').addEventListener('click', function(){
            if(!currSubject){
                alert('ê³¼ëª©ì„ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”!');
                buttons.forEach(b => b.classList.remove('active'));
                currSubject = '';
                return;
            }

            const score = Number(document.getElementById('score').value);
            if(isNaN(score) || score<0 || score>100){
                alert('1~100 ì‚¬ì´ì˜ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”!');
                buttons.forEach(b => b.classList.remove('active'));
                currSubject = '';
                return;
            }

            myMap.set(currSubject, score);
            console.log(myMap);
        });

        document.getElementById('printBtn').addEventListener('click', function(){
            let html = '';
            myMap.forEach((v,k) => {
                html += `<li>${k} : ${v}</li>`;
            })
            document.getElementById('ul').innerHTML = html;
        });

        document.getElementById('resultBtn').addEventListener('click', function(){
            let sum = 0;
            myMap.forEach(v=> sum+=Number(v));
            let avg = (sum / myMap.size).toFixed(2);
            let pass = avg>=60 ? true : false;

            console.log(sum);
            console.log(avg);
            console.log(pass);

            document.getElementById('h3').innerText = `sum : ${sum}, avg : ${avg}, pass : ${pass}`;
        });





    </script>
</body>
</html>