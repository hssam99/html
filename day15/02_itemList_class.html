<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>여행 준비물 점검 목록</h1>
    <form action="">
        <input type="text" id="item">
        <button type="button" id="btn">추가</button>
    </form>
    <div>
        <ul id="itemList"></ul>
    </div>
    

    <script>
        // todoList(CRUD)
        // C : create 추가 => item 생성 => 배열에 추가
        // R : read 읽기 => 배열의 내용을 출력
        // U : update 수정 => 체크박스 체크/해제
        // D : delete 삭제 => 삭제버튼 클릭

        const itemList = [];

        document.getElementById('btn').addEventListener('click', ()=>{
            const userInput = document.getElementById('item').value;

            itemList.push(userInput);

            printData(userInput);
            console.log(itemList);

        });

        document.getElementById('itemList').addEventListener('click', (e)=>{
            console.log(e.target);

            // class : 배열로 리턴 classList => DOMTokenList
            // value == 'close' / id =='close'
            // classList는 배열이기 때문에 contains를 이용해서 확인
            // data-no e.target.dataset.no == ''

            if(e.target.classList.contains('item_x_btn')){
                const li = e.target.closest('li');
                li.remove();
            }

        });

        function printData(){
            let list = '';
            for(let i=0; i<itemList.length; i++){
                list += `
                <li class="item">
                    <div class="inner">
                        <input class="item_chkbox" type="checkbox">
                        ${userInput}
                    </div>
                    <button id = "${i}" class="item_x_btn"><img src="https://cdn-icons-png.freepik.com/256/809/809216.png?semt=ais_white_label" alt=""></button>
                </li>
                `;
            }


        }
    </script>
</body>
</html>