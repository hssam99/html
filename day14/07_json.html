<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>json</h1>

    <!-- 
        화면에서 -> 서버로 보낼때
        object -> string (json) => JSON.stringify(jsonObj)

        서버에서 -> 화면으로 받을 때
        string -> object => JSON.parse(jsonString)
    
    -->

    <script>
        const cake = {
            id: '1234',
            type: 'donut',
            name: 'donut',
            image:{
                url:'https://flouringkitchen.com/wp-content/uploads/2023/07/BW1A4089-2.jpg',
                width: '200',
                height: '50'
            }
        }

        console.log(cake);

        let cakeString = JSON.stringify(cake);

        console.log(cakeString);

        // {"id":"1234","type":"donut","name":"donut",
        // "image":{"url":"https://flouringkitchen.com/wp-content/uploads/2023/07/BW1A4089-2.jpg","width":"200","height":"50"}}

        let cakeObj = JSON.parse(cakeString);
        console.log(cakeObj);

        // cakeObj를 콘솔에 key:value 형태로 출력

        for(let key in cakeObj){
            if(key=='image'){
                for(let imgKey in cakeObj[key]){
                    console.log(`${imgKey} : ${cakeObj[key][imgKey]}`);
                }
            }else{
                console.log(`${key} : ${cakeObj[key]}`);
            }
        }

        console.log(Object.keys(cakeObj));

        Object.keys(cakeObj).forEach(key =>{

            console.log(key+":"+cakeObj[key]);
            if(key==='image'){
                Object.keys(cakeObj[key]).forEach(imgKey =>{
                    console.log(imgKey+":"+cakeObj[key][imgKey]);
                });
            }
        })

        console.log(Object.keys(cakeObj));

    </script>
</body>
</html>