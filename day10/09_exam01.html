<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- 1. 웹폰트 불러오기 -->
    <link rel="stylesheet" crossorigin
            href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap">

    <!-- 2. 폰트 세팅용 CSS (01_fonts.css) -->
    <link rel="stylesheet" href="font.css">
</head>
<body>
    <h1>가위 바위 보 게임을 10번 하여 승률 출력</h1>
    <button type = "button" id = "btn">승률출력</button>
    <h3>10game의 승률은 <span id="result"></span>% 입니다.</h3>

    <script>
        // 가위바위보게임
        // com - random / player random
        // 0 가위, 1 바위, 2 보
        // 승률계산 (승 / (10-무))*100 소수 2자리까지 표현
        // 콘솔에 출력 com / player (승/패/무)


        function toText(input){
            if (input === 0) return '가위';
            if (input === 1) return '바위';
            return '보';
        }

        document.getElementById('btn').addEventListener('click', function(){
            let user_tie = 0;
            let user_win = 0;
            let user_lose = 0;

            for(let i = 0; i<10; i++){
                let com = Math.floor(Math.random()*3);
                let user = Math.floor(Math.random()*3);
        
                console.log('-- '+(i+1)+'번째 게임 --');
                console.log(`컴퓨터: ${toText(com)} / 사용자: ${toText(user)}`);

                if(com===user){
                    user_tie++;
                    console.log('무승부');
                }else if(
                    (com === 0 && user === 1)||
                    (com === 1 && user === 2)||
                    (com === 2 && user === 0)
                ){
                    user_win++;
                    console.log('사용자 승리');
                }else{
                    user_lose++;
                    console.log('컴퓨터 승리');
                }
            }



            let result = (user_win / (10 - user_tie))*100;
            document.getElementById('result').innerText= result.toFixed(2);

            console.log(`최종 전적 => 승:${user_win}, 무:${user_tie}, 패:${user_lose}`);
            console.log(`승률: ${result.toFixed(2)}%`);
        })


    </script>



</body>
</html>